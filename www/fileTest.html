<!DOCTYPE html>
<!--
    Copyright (c) 2012-2016 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->
    <link rel="stylesheet" type="text/css" href="css/luxbar.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/all.css" />

    <title>RE:SOUND Conference 2019</title>
</head>

<body>
    <!-- <div id="loader">
        <div id="bars">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <p class="pulsate">loading</p>
        </div>
    </div> -->
    <div id="navbar">
        <!-- buildmen.js -->
    </div>

    <div class="app">
        <div class="page_container artwork_container">
            <div style="padding:0px 15px 0 15px">
                <div style="width:100%;">
                        <div class="artwork_list_icon">
                            <span class="btn btn-small btn-gray btn-radius"><i class="fas fa-list-ul"></i></span>
                            <span class="btn btn-small btn-gray btn-radius"  href="">Find on Map</span>

                        </div>
                </div>
            </div>
            <div class="artwork_banner" >
                <img id="artwork_image">
            </div>
        <div class="artwork_description">
            <div class="input-container">
                <input style="display:none;" type="file" accept="image/*, audio/*" id="myFile">
                <button id="upload_button" class="btn btn-small btn-gray btn-radius">
                    Browse Files
                  </button>
              </div>
            <h1 id="artwork_name">Artwork</h1>
            <h2 id="artist_name" style="font-family: 'Roboto-Light-Italic';">Name</h2>
            <hr>
            <p id='artwork_typedescription' style="color:white; font-style: italic;">Type and duration</p>
            <p id='artwork_description' style="color:white;">Decscription</p>
            <div style="width:100%; margin-bottom: 10px;">
                <div class="artwork_list_icon"></div>
                </div>
            </div>
        </div>
        <div style="z-index: 0;position: fixed;background-color: black;width: 100%;margin-top: 0;padding: 0;height: 50%;bottom: 0;/*! top: -10px; */" class="\">
        </div>
    </div>

    </div>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/buildmenu.js"></script>
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="js/jquerymobile/jquery.mobile-1.4.5.js"></script>
    <script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>

     <!--FIREBASE STORAGE -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#config-web-app -->
    <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-auth.js"></script>

  <!-- Initialize Firebase -->
  <script src="/__/firebase/init.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
          apiKey: "AIzaSyDMk_zJFzk4b_zLoms5FN9Kc-RDbpljbR0",
          authDomain: "resound-e743c.firebaseapp.com",
          databaseURL: "https://resound-e743c.firebaseio.com",
          projectId: "resound-e743c",
          storageBucket: "resound-e743c.appspot.com",
          messagingSenderId: "444661942566",
          appId: "1:444661942566:web:1234937ea5ea6351"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
      </script>




    <script type="text/javascript">

        app.initialize();
        $('#artist_name').text("foo")
        // $('#loader').fadeOut();
        $('#nav_home').addClass('active');
        $('.artwork_list_icon').on('click', function(){
            $('#artist_name').text("bar")

            // capture callback
            let captureSuccess = function(mediaFiles) {
                $('#artist_name').text("roo")
                
                var i, path, len;
                for (i = 0, len = mediaFiles.length; i < len; i += 1) {
                    path = mediaFiles[i].fullPath;
                    alert('PATH: '+String(path))
                    upload(path)
                }
            };

            // capture error callback
            let captureError = function(error) {
                alert('Error code: ' + error.code, null, 'Capture Error');
            };
            var options = { limit: 1 };
            // start audio capture
            navigator.device.capture.captureAudio(captureSuccess, captureError, options);
        })

     
        // Firebase
    const uploadButton = document.querySelector('#upload_button');
    const realInput = document.getElementById('myFile');
    
    uploadButton.addEventListener('click', (e) => {
        realInput.click();
    });


    $('#myFile').on('change',function(){
        alert('Storage')
        var fileList = this.files
        alert('Filelist '+String(fileList[0]))
        let date = new Date();
        let artwork_name = $('#artwork_name').text()


        return
        // Create a storage reference from our storage service
        var storageRef = firebase.storage().ref();

        var imageRef = storageRef.child('images/123.jpg');
        imageRef.put(fileList[0]).then(function(snapshot) {
              alert("Successfully uploaded")
        }, function(error) {

// A full list of error codes is available at
// https://firebase.google.com/docs/storage/web/handle-errors
switch (error.code) {
  case 'storage/unauthorized':
    // User doesn't have permission to access the object
    alert("ERROR"+String(error))
    break;

  case 'storage/canceled':
    // User canceled the upload
    alert("ERROR"+String(error))
    break;
  case 'storage/unknown':
  alert("ERROR"+String(error))
    // Unknown error occurred, inspect error.serverResponse
    break;
}
}, function() {
// Upload completed successfully, now we can get the download URL
uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
  alert('File available at'+String(downloadURL));
});
});



    })


    function upload(path){
    alert('uploading FOO')
        // Download from URL
        // Get file name from url.
        var filename = path.substring(path.lastIndexOf("/") + 1).split("?")[0];
        var xhr = new XMLHttpRequest();
        xhr.responseType = 'blob';
        xhr.onload = function() {      
            let file = xhr.response
            
        // Firebase
        // var fileList = (path)
        // console.log('Filelist ',fileList[0])
        let date = new Date();
        let artwork_name = $('#artwork_name').text()
        // Create a storage reference from our storage service
        alert("uploading Foo2")
        var storageRef = firebase.storage().ref();
        var imageRef = storageRef.child('images/'+String(date)+'_'+String(artwork_name));
        alert("uploading Bar2")
        imageRef.put(file).then(function(snapshot) {
              alert('Success')
        });
        alert("uploading Roo2")
        };
        alert("uploading BAR")
        xhr.open('GET', path);
        xhr.send();
        alert("uploading ROO")




    }

    function playMedia(fileName){
        alert('audio')
 // Play the audio file at url
    var my_media = new Media(fileName,
                        // success callback
                        function () { alert("playAudio():Audio Success"); },
                        // error callback
                        function (err) { alert("playAudio():Audio Error: " + err); }
                    );

                    // Play audio
                    my_media.play();

                    // Pause after 10 seconds
                    setTimeout(function () {
                        // alert('Pause')
                        my_media.pause();
                    }, 5000);
    }

    $('#artist_name').on('click', function(){
            
            
      playMedia('http://www.orangefreesounds.com/wp-content/uploads/2017/03/Cannon-sound-effect.mp3')
               
        
        } )

        // Auth
        firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
        .then(function() {
            // Existing and future Auth states are now persisted in the current
            // session only. Closing the window would clear any existing state even
            // if a user forgets to sign out.
            // ...
            // New sign-in will be persisted with session persistence.
            return firebase.auth().auth().signInAnonymously().catch(function(error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
            console.log('Error: ', errorMessage+" "+errorCode)
        });
        })
        .catch(function(error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
        });


    // var dbFire = firebase.firestore();
    // let toBreakList = [
    // "Heidi Barkun//Quantified Failure (2016)//Performance//20 min// In this 20 minute spoken record, I recite all the medications, medical appointments and intimate measurements taken day-to-day during my fifth and final cycle of in vitro fertilization, which lasted 56 days. This diary uses voice to activate memory, as reading the list becomes a vehicle of translation for my multilayered experience. At times I trip or stutter over scientific names of medications; these linguistic difficulties reflect my attempts to surmount all the foreign substances injected and ingested during the protocol. My body becomes increasingly medicalized for procreative means and in the end is confirmed as a dysfunctional space; the artwork ends with the thud of the final result: “zero embryos”. My reproductive and medical failure is measured, calculated, and put on display. This speaking of my corporeal failure is a conscious act of resistance against the taboo of infertility, the veneration of science, and the normative voices of Western society.//-1_M//200//300//quantum.jpg ",
    // "Luz María Sánchez//Vis.[un]necessary force_4 | V.[u]nf_4 (2018-2019)//Installation// //V. [u]nf_4 addresses one of the most painful problems resulting from violence in contemporary Mexico: forced disappearance. Given the inefficiency of the authorities to provide certainty about missing people whereabouts and conduct legal processes, civil society has organized independently to undertake the search for family and friends. V. [u]nf_4 is part of a long process of collaboration between the artist and the group Las Rastreadoras de El Fuerte, from Los Mochis, Sinaloa, in northern Mexico. This collective frequently makes expeditions to the areas surrounding the city of Los Mochis to look for signs of human remains or clandestine graves. From 2006 to 2019 numbers are around 250,000 casualties—violent death—and 50,000 civilians disappeared, some of the victims of forced disappearance, and a limitless number of displacements. 'Officially, the Mexican government acknowledges the disappearances of more than 30,000 people—men, women, and children trapped in liminal abyss neither dead nor alive, silent victims of the drug war. But the truth is no one knows how many people are missing in Mexico' (The New York Times: Nov. 20, 2017). V. [u]nf_4 had its origin in another collaborative work in process, Vis. [un]necessary force_3, whose objective is to offer the collective a digital tool from which to build a cybercartography that allows The Trackers of El Fuerte to systematize different types of data thrown in the searches. The platform has practical purposes, such as the audiovisual documentation of their expeditions; however, it also seeks to be a memory space. V. [u]nf_3 is a project that starts with Las Rastreadoras as a pilot group, and that will eventually be extended to other groups that carry out the same type of search in Mexico. On the other hand, V. [u]nf_4 displays, through a multi-layered staging, a series of records taken by the artist in the expeditions carried out by the El Fuerte Trackers in the desert (February 2019). The strata allude to different moments of this experience. In them appears the relationship that women engage with each other in the common search for justice and truth. The conversations contrast with other registers that document the metallic sound of the tools: shovels and picks used to dig at the points where human remains are thought to exist. At a third level, the two questions that guide the work of the collective appear: where? And why? The work seeks for the viewer to approach this reality through active listening, through the deconstructive strategy used by the artist. From a non-narrative perspective, through V. [u]nf_4 Sánchez persists in creating a space of silence for listening through the fragmentation and superposition of the sounds and documentary records. Of these aural vestiges, the impulse of the collective stands out at the same time as the cruelty of the search in symbolic and material terms. Fraternity in the face of tragedy takes place as the last refuge from the destruction provoked by terror and narco-machine, the machinery of death.//-1_M//300//200//VIS4_small.jpg",
    // "Catherine Baker//Waiting (2016)//Film//11:30 min//Advancements in medical imaging and diagnosis means we are all likely to encounter waiting withillness in our lives or through the lives of those we spend our time with. This short film called Waiting features patients and their close families and friends as they wait with illness and disease. When undertaking the research for this artwork, the patients I worked with often described similar experiences such as feeling ‘voiceless’ in ‘unfamiliar environments’ with the pressure of the waiting about the outcome of tests and results as a major feature of their encounter with illness. Despite their differing illnesses that ranged from Stage 4 Cancer, Scoliosis, Diabetes, and Autonomic disorders they all wait for answers and hope for solutions. From the diverse range of challenges they faced and presented, holding onto breath seemed a simple but powerful symbol to describe the experience of being / living / life and its fragility. The people on screen simply hold onto their breath, sometimes alone and sometimes with those they love. The sound work has been developed from recordings of Magnetic Resonance Imaging (MRI) sequences as these unmistakable sounds are directly linked to the experience of waiting for a diagnosis. The high-pitched sounds have been layered with the sound of female voices counting together. After recently observing a spinal correction surgery on a young girl I was struck by the continuous chorus of counting, as all objects in surgical theatre have to be thoroughly calculated and checked. The female ‘chorus’ continued throughout the surgery so I arranged a re-enactment with 4 female singers that could be fused and further layered with the MRI sounds and spoken dialogue from close friends that was recorded in remembrance of one of the participants.//1_C//200//340//waiting.jpg",
    // "Emmanuel Madan//Freedom Highway (2001-2004)//Installation// //FREEDOM HIGHWAY is a transmission art work initially created from 2001-2004, which the artist is currently revisiting in the contemporary political and social climate. In the lead-up to the invation of Iraq (2002-2003), I made numerous road trips across the United States during which I recorded radio programming in the format known as talk radio. Talk radio in the US is heavily skewed towards the right wing; dominated by ultra- conservatives politically and evangelical Christians religiously. Since the 1990’s, the culture of talk radio has been at the vanguard of legitimizing and mainstreaming the ideological beliefs and policy priorities that now hold sway in the current US administration. In the present political moment, this normalization of vehement nativism and xenophobia seems increasingly overwhelming. This is why for the past two years I have been revisiting the work, which I first performed extensively in the US, Canada and Europe from 2004-2008. In North America, the roots of xenophobia and nativism run very deep. The widespread glorification of these destructive tendencies which we are witnessing today are not without precedent. Understanding the current episode in American public discourse and media requires a renewed examination of the politics of the spoken word. FREEDOM HIGHWAY is an audio composition constructed around a multi-voiced spoken narrative, composited from hundreds of speakers recorded in about twenty American states: right-wing call-in hosts, radio preachers, shock jocks and sports commentators as well as their guests and callers. Radio interference and static are also used extensively throughout the piece to create additional spaces besides the ones (radio studio and telephone) inherent in the programming itself. The resulting audio footage is then assembled into an audio performance and a gallery installation, a deeply troubling “audio self-portrait” of America as rendered by the nation’s political and religious radio broadcasters, and as overheard or intercepted by a listener who is not the intended audience of these broadcasts. FREEDOM HIGHWAY has been performed, broadcast, and exhibited in gallery installation form regularly since 2004. It has been heard in the US, Canada, and Europe.//0_M//400//400//freedom_f.jpg",
    // "Christopher Brown & Andrew Knight-Hill//Coccolith (2018)//Film//17 mins//'Coccolith' is an experimental short fiction film shot in the subterranean world of the Ramsgate Tunnels in Kent. Departing from typical storytelling conventions, the film depicts an imaginary realm in which devised performances evoke the unique histories and feel of this eerie environment, seeking to challenge simplistic associations of the tunnels with wartime nostalgia and mythology. The film is part of a broader practice-as-research project investigating how audio-visual practices might represent the experiences of ruined spaces.//1_C//500//500//cocolith.jpg",
    // "SENSORIMETRICA (Rocío Calvo y Fernando Vega)//EVOCARE (2017)//Performance//18:47 min//Many times writing is remembering what has never existed. How will I get to know what I do not even know? So: as if I remembered. With an effort of 'memory', as if I had never been born. I've never been born, I've never lived: but I remember, and that memory is raw. ( Clarise Lispector) Through a documentary dramaturgy, Evocare draws with sounds a mosaic of a private life that amalgamates memory and fiction.//-1_M//600//700//ORIGINAL_ok.jpg",
    // "Johan Grimonprez//Double Take (2009)//Film//01:19 hours//Acclaimed director Johan Grimonprez casts Alfred Hitchcock as a paranoid history professor, unwittingly caught up in a double take on the cold war period. The master says all the wrong things at all the wrong times while politicians on both sides desperately clamor to say the right things, live on TV. Double Take targets the global rise of ‘fear-as-a-commodity’, in a tale of odd couples and hilarious double deals. As television hijacks cinema, and the Khrushchev and Nixon kitchen debate rattles on, sexual politics quietly take off and Alfred himself emerges in a dandy new role on the TV, blackmailing housewives with brands they can't refuse. Award winning novelist Tom McCarthy (‘C’, ‘Remainder’, ‘Tintin and the Secret of Literature’) writes a plot of personal paranoia to mirror the political intrigue in which Hitchcock and his elusive double increasingly obsess over the perfect murder – of each other! Subverting a meticulous array of TV footage, Grimonprez traces catastrophe culture's relentless assault on the home, from the inception of televised images to our present day zapping neurosis.//0_M//700//700//double.jpg",
    // "Johan Grimonprez//Short Films (2013-2018)//Film//21 min//Short film screening from acclaimed director Johan Grimonprez. Films: 'Raymond Tallis | on tickling' (2017), 'Two Travellers to a River' (2018), 'from SATIN ISLAND' (2015), 'You're the First, The Last, My Everything', 'what I will' (2013), and 'I may have lost forever my umbrella' (2011).//0_M//701//701//raymond.jpg"
    // ];
    // alert(String(toBreakList.length))
    // for(var i =0;i<toBreakList.length;i++){
    //     let Broken = toBreakList[i].split('//')
    //     alert(String(Broken[0])+" "+String(Broken[8]))
    //     dbFire.collection("works").add({
    //             artist: Broken[0],
    //             artwork: Broken[1],
    //             type:Broken[2],
    //             type_description:Broken[3],
    //             description:Broken[4],
    //             floor:Broken[5],
    //             x_coordinate:Broken[6],
    //             y_coordinate:Broken[7],
    //             image:Broken[8]
    //         }).then(function(docRef) {
    //         alert("Document written with ID: "+String(docRef.id));
    //     })

    // }




    </script>
</body>

</html>